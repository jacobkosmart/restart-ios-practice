### ğŸ”· Animation

#### ğŸ‘‰ ì´ˆê¸°í™”ë©´ ì‹¤í–‰ ì‹œ , animation ì„¤ì ˆ

- `onboardingView.swift` ê°€ ì‹œì‘ ë ë•Œ header, CenterImage, footer ê°€ ì„œì„œíˆ, ë°–ì—ì„œ ë‚˜íƒ€ë‚˜ë„ë¡ animation íš¨ê³¼ë¥¼ ì¤ë‹ˆë‹¤

```swift
// OnboardingView.swift

struct OnboardingView: View {
	// MARK: PROPERTY
	// property to control the animation
	@State private var isAnimating: Bool = false
	....
	// Header Animating
.opacity(isAnimating ? 1 : 0)
// Slide Down (ìœ„ì—ì„œ y ì¶• -40 ì—ì„œ 0 ì›ë˜ ìœ„ì¹˜ë¡œ ì´ë™í•˜ëŠ” animation
.offset(y: isAnimating ? 0 : -40)
// Animation Parameter: valele parameter ëŠ” iOS15 ë¶€í„° ì ìš©ëœ í•„ìˆ˜í•­ëª©ì„
.animation(.easeOut(duration: 1), value: isAnimating)

// MARK: - CENTER
ZStack {
// Reusable Components
CircleGroupView(ShapeColor: .white, ShapeOpacity: 0.2)

Image("character-1")
	.resizable()
	.scaledToFit()
	// Image Animation
	.opacity(isAnimating ? 1 : 0)
	.animation(.easeOut(duration: 0.5), value: isAnimating)
} //: CENTER

....
// Footer Animation
.opacity(isAnimating ? 1 : 0)
.offset(y: isAnimating ? 0 : 40)
.animation(.easeOut(duration: 1), value: isAnimating)
......

.onAppear(perform: {
		isAnimating = true
})
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148634859-f6e2f637-fabe-4092-803f-1f36132f25c6.gif">

#### ğŸ‘‰ Transition Animation

- `OnboardingView.swift` ì—ì„œ `HomeView.swift` ë¡œ í™”ë©´ ì „í™˜ì„ í• ë•Œ transition íš¨ê³¼ ì„¤ì • ì…ë‹ˆë‹¤.

```swift
// OnboardingView.swift

// drag action ì´ ëŒë‚ ë•Œ ì˜ ì„¤ì •ê°’: bottonWidth ê°’ì˜ ì ˆë§Œì´ ë„˜ì–´ê°€ë©´ HomeView ë¡œ ì´ë™, ì ˆë§Œ ì´í•˜ì´ë©´ ë‹¤ì‹œ ì›ìœ„ì¹˜ ì‹œí‚´
.onEnded({ _ in
// transition
withAnimation(Animation.easeOut(duration: 1.0)) {
if buttonOffset > buttonWidth / 2 {
	buttonOffset = buttonWidth - 80
	isOnboadingViewActive = false
} else {
	buttonOffset = 0
}
}
})
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148635063-ac0d1638-3b8b-4919-978a-e5485d20decb.gif">

#### ğŸ‘‰ Ring Animation

```swift
// CircleGroupView.swift

} //: ZStack
// Ring Animation
.blur(radius: isAnimating ? 0 : 10)
.opacity(isAnimating ? 1 : 0)
.scaleEffect(isAnimating ? 1 : 0.5)
.animation(.easeOut(duration: 1), value: isAnimating)
.onAppear(perform: {
	isAnimating = true
})
```

#### ğŸ‘‰ Repeat Animation

- Home í™”ë©´ì—ì„œ image ê°€ ìœ„ì•„ë˜ë¡œ ê³„ì† ì›€ì§ì´ê²Œ Repeat Animation ì„¤ì •í•˜ê¸°

```swift
// in HomeView.swift

// MARK: -  HEADER

Spacer()

ZStack {
// Reusable Component
CircleGroupView(ShapeColor: .gray, ShapeOpacity: 0.1)

Image("character-2")
.resizable()
.scaledToFit()
.padding()
// Reapeat Animation
.offset(y: isAnimating ? 35 : -35)
.animation(
Animation
	.easeInOut(duration: 4)
	.repeatForever()
, value: isAnimating
)
}
```

#### ğŸ‘‰ Animation Timing

- Animation Timing ì€ view ì•ˆì—ì„œ íŠ¹ì • ë·°ë§Œ ì‹œê°„ì„ ë”°ë¡œ ì¤˜ì„œ animation ì˜ íƒ€ì´ë°ì„ ì¡°ì ˆ í•˜ëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤

- ì´ ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ `DispatchQueue` ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤

#### ğŸ“Œ DispatchQueue

- Animation ì—ì„œ Delay ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„  application ì˜ main threat ì„ ì‚¬ìš©í•©ë‹ˆë‹¤

- DispatchQueue ì •ì˜ : An Object that manages the execution of tasks serially or concurrently on your app's main thread or on a background thread

- ê²°êµ­ Delay ê¸°ëŠ¥í•˜ê¸° ìœ„í•´ì„  main Thread ì— ì ‘ê·¼í•´ì„œ asyncAfter (Executing Tasks Asynchronously ë¥¼ ì‚¬ìš©í•´ì„œ )

```swift
// HomeView.swift

} //: VStack
// Animation Timing
// í™”ë©´ì´ ë‚˜íƒ€ë‚˜ê³  3ì´ˆ ë’¤ì— animation ì‹œì‘ë  ìˆ˜ ìˆê²Œ main thread ì— ì ‘ê·¼í•´ì„œ asyncAfter ë¥¼ ì£¼ì–´ì„œ 3ì´ˆ delay ë¥¼ ì¤ë‹ˆë‹¤
.onAppear(perform: {
DispatchQueue.main.asyncAfter(deadline: .now() + 2, execute: {
	isAnimating = true
})
})
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148635974-0e74c046-82a0-46e8-b731-ee9cff73d3a1.gif">

#### ğŸ‘‰ Drag Gesture

```swift
//  OnboardingView.swift

import SwiftUI

struct OnboardingView: View {
// MARK: PROPERTY
// Drag Gesture imageOffset
@State private var imageOffset : CGSize = .zero
......
// MARK: - CENTER
ZStack {
......
// Image Gesture
.offset(x: imageOffset.width * 1.2, y: 0) // Accelerate the movement
.gesture(
DragGesture()
.onChanged{ gesture in
// - ê°’ë„ ìˆìœ¼ë‹ˆ absolute ì ˆëŒ€ê°’ìœ¼ë¡œ 150 ì´í•˜ì¼ë•Œë§Œ ì›€ì§ì´ê²Œ í•˜ê¸°
if abs(imageOffset.width) <= 150 {
	imageOffset = gesture.translation
}
}
// drag í›„ì— ì¢…ë£Œ ì‹œì  ì•Œë¦¼
.onEnded { _ in
imageOffset = .zero
}
) //: GESTURE
.animation(.easeOut(duration: 1), value: imageOffset)
} //: CENTER

```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148640484-764a114e-98f5-4bdb-acb9-8b0d63531094.gif">

#### ğŸ‘‰ Movement with Rotation

```swift

// rotationEffect
// .degrees: Angle parameter by specifying the degree to set how much the image
	.rotationEffect(.degrees(Double(imageOffset.width / 20)))
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148640738-d850254d-17ae-4dd6-832a-163a536795c1.gif">

#### ğŸ‘‰ Horizontal Parallax Effect

```swift
// MARK: - CENTER
ZStack {
// Reusable Components
CircleGroupView(ShapeColor: .white, ShapeOpacity: 0.2)
// Parallax Effect
	.offset(x: imageOffset.width * -1) // Opposite Direction
	.blur(radius: abs(imageOffset.width / 5)) // blur: Only positive Number
	.animation(.easeOut(duration: 1), value: imageOffset)
```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148640944-e69d7132-4583-42df-b2ac-0e889620d6da.gif">

#### ğŸ‘‰ Arrow Indicator

- It needs to indicate arrow button to show image movement

```swift
struct OnboardingView: View {
// MARK: PROPERTY
@State private var indicatorOpacity: Double = 1.0

.........

DragGesture()
.onChanged{ gesture in
	// - ê°’ë„ ìˆìœ¼ë‹ˆ absolute ì ˆëŒ€ê°’ìœ¼ë¡œ 150 ì´í•˜ì¼ë•Œë§Œ ì›€ì§ì´ê²Œ í•˜ê¸°
	if abs(imageOffset.width) <= 150 {
		imageOffset = gesture.translation
		// indicator arrow fadeOut
		withAnimation(.linear(duration: 0.25)) {
			indicatorOpacity = 0
		}
	}
}
// drag í›„ì— ì¢…ë£Œ ì‹œì  ì•Œë¦¼
.onEnded { _ in
	imageOffset = .zero
	// indicator arrow fadeIn
	withAnimation(.linear(duration: 0.25)) {
		indicatorOpacity = 1
	}
}
) //: GESTURE
	.animation(.easeOut(duration: 1), value: imageOffset)
} //: CENTER
// Arrow Indicator
.overlay(
Image(systemName: "arrow.left.and.right.circle")
	.font(.system(size: 44, weight: .ultraLight))
	.foregroundColor(.white)
	.offset(y: 20)
	.opacity(isAnimating ? 1: 0)
	.animation(.easeOut(duration: 1).delay(2), value: isAnimating)
	.opacity(indicatorOpacity)
, alignment: .bottom
)
........

```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148641357-9f98a750-5206-49f5-80ea-d360c20b2d23.gif">

#### ğŸ‘‰ Opacity Text Transition

```swift
struct OnboardingView: View {
// MARK: PROPERTY
@State private var textTitle: String = "Share."

....

// MARK: -  HEADER

Spacer()

VStack (spacing: 0) {
Text(textTitle)
	.font(.system(size: 60))
	.fontWeight(.heavy)
	.foregroundColor(.white)
// Text opacity transition
	.transition(.opacity)
// Using ID method to tell SwiftUI that a view is No Longer the same view.
	.id(textTitle)

....

	DragGesture()
.onChanged{ gesture in
	// - ê°’ë„ ìˆìœ¼ë‹ˆ absolute ì ˆëŒ€ê°’ìœ¼ë¡œ 150 ì´í•˜ì¼ë•Œë§Œ ì›€ì§ì´ê²Œ í•˜ê¸°
if abs(imageOffset.width) <= 150 {
imageOffset = gesture.translation
// indicator arrow fadeOut
withAnimation(.linear(duration: 0.25)) {
	indicatorOpacity = 0
	// textTitle ë³€ê²½
	textTitle = "Give."
}
}
}
// drag í›„ì— ì¢…ë£Œ ì‹œì  ì•Œë¦¼
.onEnded { _ in
imageOffset = .zero
// indicator arrow fadeIn
withAnimation(.linear(duration: 0.25)) {
indicatorOpacity = 1
// textTitle ë³€ê²½
textTitle = "Share."
}
}

```

<img width="300" alt="á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º" src="https://user-images.githubusercontent.com/28912774/148641647-0ce97783-066a-4543-9c40-a5e749cc5731.gif">
